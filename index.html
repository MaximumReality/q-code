<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Q-Code Pyramid</title>
<style>
body{
    margin:0;
    background:#000;
    overflow:hidden;
    display:flex;
    justify-content:center;
    align-items:center;
    height:100vh;
    font-family:monospace;
}

.tile{
    position:absolute;
    width:50px;
    height:25px;
    background:#ff0055;
    transform:skewY(-26.565deg) scaleY(0.5);
    transform-origin:center;
    cursor:pointer;
    transition:all .2s ease;
    border-top:2px solid #ff88aa;
    box-sizing:border-box;
}

.tile.compiled{
    background:#00ffff;
    border-top:2px solid #88ffff;
    box-shadow:0 0 15px #00ffff;
}

#azul{
    position:absolute;
    width:30px;
    pointer-events:none;
    transition:all .2s ease;
}
</style>
</head>
<body>

<img src="azul-tactical.png" id="azul">

<script>
const pyramidLevels = 6; // total rows
const cubeWidth = 50;
const cubeHeight = 25;
const sin30 = 12.5;   // vertical offset half cube
const cos30 = 25;     // horizontal offset half cube

const azul = document.getElementById("azul");
const centerX = window.innerWidth / 2;
const startY = 80;

for(let r = 0; r < pyramidLevels; r++){
    const tilesInRow = r + 1;
    const rowWidth = tilesInRow * cubeWidth;
    const offsetX = centerX - rowWidth/2;

    for(let c = 0; c < tilesInRow; c++){
        const tile = document.createElement("div");
        tile.className = "tile";

        // Compute X/Y based on Q*bert logic
        const x = offsetX + c * cubeWidth;
        const y = startY + r * sin30 + r * (cubeHeight - sin30);

        tile.style.left = x + "px";
        tile.style.top = y + "px";

        tile.addEventListener("click", () => {
            tile.classList.add("compiled");

            // Position Azul on top
            azul.style.left = x + cubeWidth/2 - azul.offsetWidth/2 + "px";
            azul.style.top = y - azul.offsetHeight + "px";
        });

        document.body.appendChild(tile);
    }
}
</script>

</body>
</html>
